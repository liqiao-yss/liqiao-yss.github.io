---
layout: post
title: 部署jenkins
date: 2020-03-30
Author: mimo
categories: 
tags: [jenkins,部署]
comments: true
---

## Jenkins介绍

官方文档[https://jenkins.io/zh/doc/](https://jenkins.io/zh/doc/)

- 自动化各种任务，包括 构建、测试和部署 软件。

- 互联网软件已经形成一个标准流程：编码	构建	集成	测试	交付	部署

1.持续集成(Continuous integration，简称CI)：频繁的将代码集成到主干。将个人研发部分向软件整体部分交付。频繁的将代码集成到主干。

- [ ] 开发人员每一次代码提交，都能自动在jenkins上自动build构建。

- [ ] 优点：可以快速发现错误，快速迭代。

- [ ] 核心措施：代码集成到主干之前，必须通过自动化测试。只要有一个测试用例失败，就不能集成。

2.持续交付(Continuous Delivery，简称CD)：频繁的将软件的新版本交付给质量团队或用户，以供评审。持续交付在持续集成的基础上，将集成后的代码部署到更贴近真实运行环境的「类生产环境」

- [ ] 强调：不管怎么更新，软件是随时随地可以交付的

3.持续部署(Continuous Deployment)：代码通过评审以后，自动部署到生产环境

- [ ] 前提：能自动化完成测试、构建、部署等步骤

- [ ] 功能：持续的软件版本发布/测试项目；监控外部调用执行的工作

- [ ] 开发或测试人员操作：项目所需参数传给jenkins下对应你的项目的job，jenkins自动完成部署。

- [ ] 运维：监控jenkins的相关指标，保证健康状态下运转，以及项目部署配置中出现的权限、参数配置、工具集成调用等问题

------

## Jenkins特性

```
开源的java语言开发持续集成工具，支持CI，CD；

易于安装部署配置：可通过yum安装,或下载war包以及通过docker容器等快速实现安装部署，可方便web界面配置管理；

消息通知及测试报告：集成RSS/E-mail通过RSS发布构建结果或当构建完成时通过e-mail通知，生成JUnit/TestNG测试报告；

分布式构建：支持Jenkins能够让多台计算机一起构建/测试；

文件识别:Jenkins能够跟踪哪次构建生成哪些jar，哪次构建使用哪个版本的jar等； 

丰富的插件支持:支持扩展插件，可以开发适合自己团队使用的工具，如git，svn，maven，docker等。
```

## Jenkins Job构建

代表一个任务或项目

可配置与可执行

执行后的记录称之为Bulid

日志监控与记录

所有文件集中保存

Freestyle Job：

- 需在页面添加模块配置项与参数完成配置

- 每个job只能实现一个开发功能

- 无法将配置代码化

Pipeline Job：

-  原先是jenkins的插件，现内嵌入

- 能实现持续集成和持续交付
- 可定义多个stage构建一个管道工作集
- 所有配置代码化，方便job配置迁移与版本控制
- 需要pipeline脚本语法基础